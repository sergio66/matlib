function run_cris_batch()

addpath ..    % look one level up for create_* functions
    
cris_ccast_file_list = '~/cris-hires-files-to-process';

% grab the slurm array index for this process
slurmindex = str2num(getenv('SLURM_ARRAY_TASK_ID'));

% offset slurmindex to bypass MaxArraySize boundary
%slurmindex = slurmindex + 19999

% build config struct
cfg.model = 'era';
cfg.sarta_exec = '/asl/bin/crisg4_oct16';
cfg.tag = 'csarta';

chunk = 1;
for i = 1:chunk
    dayindex = (slurmindex*chunk) + i;
    fprintf(1, '>>> chunk %d  dayindex %d\n', i, dayindex);
    
    % File ~/cris-files-process.txt is a list of filepaths to the input
    % files or this processing. For the initial runs, this was
    % generated by a call to 'ls' while sitting in the directory
    % /asl/data/cris/ccast/sdr60_hr/2015: 
    %    ls -d1 $PWD/{048,049,050}/*.mat >> ~/cris-files-process.txt
    %
    % cris-files-process.txt, then, contains lines like:
    %    /asl/data/cris/ccast/sdr60_hr/2015/048/SDR_d20150217_t1126169.mat
    [status, infile] = system(sprintf('sed -n "%dp" %s | tr -d "\n"', ...
                                      dayindex, cris_ccast_file_list));

    if strcmp(infile, '')
        break;
    end

% $$$     % for ccast ICT error covariance tests, grab part of path to
% $$$     % differentiate output path
% $$$     % input of form /asl/data/cris/ccast/sdr60_hr_t-10/2016/020
% $$$     % want to grab 't-10' like part
% $$$     C = strsplit(infile, '/');
% $$$     junk = C{6};
% $$$     C = strsplit(junk, '_');
% $$$     cfg.tag = C{3};
    
    % call the processing function
    create_cris_ccast_hires_rtp(infile, cfg)

end